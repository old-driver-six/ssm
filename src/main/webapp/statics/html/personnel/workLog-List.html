<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>个人日志列表</title>
    <link rel="stylesheet" href="../../layui/css/layui.css"/>
    <script src="../../js/basevalue.js"></script>

</head>
<body>
<div class="x-nav">
      <span class="layui-breadcrumb">
        <a href="">首页</a>
        <a href="">演示</a>
        <a>
          <cite>导航元素</cite></a>
      </span>
</div>
<div class="x-body" style="height: 50px">
    <div class="layui-row"style="width: 450px;float: left;">
            <input type="text" name="username"  placeholder="请输入用户名" autocomplete="off" class="layui-input" style="width: 300px;float: left;margin-right: 10px">
            <button class="layui-btn"  lay-submit="" lay-filter="sreach" style="float:left;"><i class="layui-icon">&#xe615;查询</i></button>
    </div>
</div>
<table id="demo" lay-filter="test" style="float: left"></table>
<script src="../../layui/layui.js"></script>
<script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="detail">查看</a>
    <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>
<script>
    layui.use('table', function() {
        var table = layui.table;
        //第一个实例
        // 因为是js模拟的数据, 所以分页,指定每页记录数功能暂无法体现 ,待换成servlet即可
        table.render({
            elem: '#demo'
            , limit: 2
            , limits: [2, 4, 6]
            , height: 312
            , url: path + '/workLog/selLimit.do' //数据接口 , 这里我用js模拟了一个要请求的数据, 将来要用servlet来响应
            , method: "get"
            , where: {
                "sid": 10007
            }
            , page: true //开启分页
            , cols: [[ //表头 ,注意：field的值必须和json中的数据的键名保持一致
                //title是用来显示的字段名
                //员工姓名；手机号；邮箱；身份证号码；职位工资；入职时间；性别；备注
                {type: 'checkbox', fixed: 'left'}
                , {field: 'worklogId', title: '日志id', sort: true, fixed: 'left'}
                , {field: 'worklogName', title: '日志名称'}
                , {field: 'worklogCreatedate', title: '创建时间'}
                , {field: 'worklogContent', title: '日志内容'}
                , {field: 'worklogUpdatetime', title: '日志修改时间'}
            ]]

            , parseData: function (res) {
                console.log(res)
                return {
                    "code": res.code,//解析接口状态
                    "msg": res.msg,//解析提示文件
                    "count": res.count,//解析数据长度
                    "data": res.data//解析数据列表
                }
            }
        });
    });
</script>
</body>
</html>